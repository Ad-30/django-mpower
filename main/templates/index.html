{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block style %}
input::-webkit-calendar-picker-indicator {
    display: none !important;
  }
  ::selection{
    color: #fff;
    background: #664AFF;
  }
  
  .container{
    max-width: 450px;
  }
  
  .container .searchInput{
    background: #fff;
    width: 100%;
    border-radius: 5px;
    {% comment %} position: relative; {% endcomment %}
  }
  
  .searchInput input{
    height: 55px;
    width: 100%;
    outline: none;
    border: none;
    border-radius: 5px;
    padding: 0px !important;
    {% comment %} padding: 0 60px 0 20px; {% endcomment %}
    font-size: 18px;
  }
  
  .searchInput.active input{
    border-radius: 5px 5px 0 0;
  }
  
  .searchInput .resultBox{
    padding: 0;
    opacity: 0;
    pointer-events: none;
    max-height: 280px;
    overflow-y: auto;
  }
  
  .searchInput.active .resultBox{
    padding: 10px 8px;
    opacity: 1;
    pointer-events: auto;
    position: fixed;
    background: white;
  }
  
  .resultBox li{
    list-style: none;
    padding: 8px 12px;
    display: none;
    width: 100%;
    cursor: default;
    border-radius: 3px;
  }
  
  .searchInput.active .resultBox li{
    display: block;
  }
  .resultBox li:hover{
    background: #efefef;
  }
  
  .searchInput .icon{
    position: absolute;
    right: 0px;
    top: 0px;
    height: 55px;
    width: 55px;
    text-align: center;
    line-height: 55px;
    font-size: 20px;
    color: #644bff;
    cursor: pointer;
  }
{% endblock %}
{% block content %}

<section class="pxp-hero vh-100" style="background-color: var(--pxpMainColorLight);">
    <div class="pxp-hero-caption">
        <div class="pxp-container">
            <div class="row pxp-pl-80 align-items-center justify-content-between">
                <div class="col-12 col-xl-6 col-xxl-5">
                    <h1>Find the perfect<br><span style="color: var(--pxpMainColor);">job</span> for you</h1>
                    <div class="pxp-hero-subtitle mt-3 mt-lg-4">Search your career opportunity through <strong>12,800</strong> jobs</div>

                    <div class="pxp-hero-form pxp-hero-form-round mt-3 mt-lg-4">
                        <form class="row gx-3 align-items-center" method="GET" action = "{% url 'main:jobs' %}">
                            <input type="text" name="category" value="all" style="display: none">
                            <div class="col-12 col-sm">
                                <div class="mb-3 mb-sm-0">
                                    <div class="container">
                                    <div class="searchInput">
                                        <input type="text" placeholder="Keyword" class="form-select" name="title" style="background-image: none">
                                        <div class="resultBox">
                                          <!-- here list are inserted from javascript -->
                                        </div>
                                      </div>
                                    </div>
                                    {% comment %} <input type="text" class="form-select" list="select-titles" placeholder="Job title" name="title" style="background-image: none"/>
                                    <datalist id="select-titles">
                                        {% for i in titles %}
                                        <option value='{{ i.title }}'>{{ i.title }}</option>
                                        {% endfor %}
                                    </datalist> {% endcomment %}
                                    {% comment %} <select id="select-titles" placeholder="Job titles" class="form-select" name="title">
                                        <option value="all" selected>Job title</option>
                                        {% for i in titles %}
                                            {% if i.title == context.t %}
                                            <option value='{{ i.title }}' selected>{{ i.title }}</option>
                                            {% else %}
                                            <option value='{{ i.title }}'>{{ i.title }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select> {% endcomment %}
                                </div>
                            </div>
                            <div class="col-12 col-sm pxp-has-left-border">
                                <div class="mb-3 mb-sm-0">
                                    <select id="select-locations" placeholder="Pick a Category..." class="form-select"  name="location" style="background-image: none">
                                        <option value="all">All locations</option>
                                        {% for i in locations %}
                                            {% if i.location == context.l %}
                                            <option value='{{ i.location }}' selected>{{ i.location }}</option>
                                            {% else %}
                                            <option value='{{ i.location }}'>{{ i.location }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="col-12 col-sm-auto">
                                <button><span class="fa fa-search"></span></button>
                            </div>
                        </form>
                    </div>

                    <div class="pxp-hero-searches-container">
                        <div class="pxp-hero-searches-label">Popular Searches</div>
                        <div class="pxp-hero-searches">
                            <div class="pxp-hero-searches-items">
                                <a href="#">Work from home</a>
                                <a href="#">Part-time</a>
                                <a href="#">Administration</a>
                                <a href="#">Finance</a>
                                <a href="#">Retail</a>
                                <a href="#">IT</a>
                                <a href="#">Engineering</a>
                                <a href="#">Sales</a>
                                <a href="#">Manufacturing</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-none d-xl-block col-xl-5 position-relative">
                    <div class="pxp-hero-cards-container pxp-animate-cards pxp-mouse-move" data-speed="160">
                        <div class="pxp-hero-card pxp-cover pxp-cover-top" style="background-image: url('https://track2traininginstitute.files.wordpress.com/2020/08/pexels-photo-935756.jpeg');"></div>
                        <div class="pxp-hero-card-dark"></div>
                        <div class="pxp-hero-card-light"></div>
                    </div>

                    <div class="pxp-hero-card-info-container pxp-mouse-move" data-speed="60">
                        <div class="pxp-hero-card-info pxp-animate-bounce">
                            {% for i in vals %}
                            <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">{{ i.count }}<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in {{ i.fnarea }}</div>
                            </div>
                            {% endfor %}
                            {% comment %} <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">286<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in Business Development</div>
                            </div>
                            <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">154<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in Marketing & Communication</div>
                            </div>
                            <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">319<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in Human Resources</div>
                            </div>
                            <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">120<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in Project Management</div>
                            </div>
                            <div class="pxp-hero-card-info-item">
                                <div class="pxp-hero-card-info-item-number">176<span>job offers</span></div>
                                <div class="pxp-hero-card-info-item-description">in Customer Service</div>
                            </div> {% endcomment %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="pxp-hero-logos-carousel-container">
        <div class="pxp-container">
            <div class="row pxp-pl-80">
                <div class="col-12 col-xl-6">
                    <div class="pxp-hero-logos-carousel owl-carousel">
                        <img src="{% static 'images/hero-logo-1.svg' %}" alt="Logo 2">
                        <img src="{% static 'images/hero-logo-2.svg' %}" alt="Logo 3">
                        <img src="{% static 'images/hero-logo-3.svg' %}" alt="Logo 1">
                        <img src="{% static 'images/hero-logo-4.svg' %}" alt="Logo 4">
                        <img src="{% static 'images/hero-logo-5.svg' %}" alt="Logo 5">
                        <img src="{% static 'images/hero-logo-6.svg' %}" alt="Logo 6">
                        <img src="{% static 'images/hero-logo-7.svg' %}" alt="Logo 7">
                        <img src="{% static 'images/hero-logo-8.svg' %}" alt="Logo 8">
                        <img src="{% static 'images/hero-logo-9.svg' %}" alt="Logo 9">
                        <img src="{% static 'images/hero-logo-1.svg' %}" alt="Logo 10">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="pxp-hero-right-bg-card pxp-has-animation"></div>
</section>

<section class="mt-100">
    <div class="pxp-container">
        <h2 class="pxp-section-h2 text-center">Search by Category</h2>
        <p class="pxp-text-light text-center">Search your career opportunity with our categories</p>

        <div class="row mt-4 mt-md-5 pxp-animate-in pxp-animate-in-top" style="justify-content: center">
            {% for i in vals %}
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-pie-chart"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">{{ i.fnarea }}</div>
                    <div class="pxp-categories-card-1-subtitle">{{ i.count }} open positions</div>
                </a>
            </div>
            {% endfor %}
            {% comment %} <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-pie-chart"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Business Development</div>
                    <div class="pxp-categories-card-1-subtitle">139 open positions</div>
                </a>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-bullhorn"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Marketing & Communication</div>
                    <div class="pxp-categories-card-1-subtitle">366 open positions</div>
                </a>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-address-card-o"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Human Resources</div>
                    <div class="pxp-categories-card-1-subtitle">435 open positions</div>
                </a>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-calendar-o"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Project Management</div>
                    <div class="pxp-categories-card-1-subtitle">324 open positions</div>
                </a>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-comments-o"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Customer Service</div>
                    <div class="pxp-categories-card-1-subtitle">39 open positions</div>
                </a>
            </div>
            <div class="col-12 col-md-4 col-lg-3 col-xxl-2 pxp-categories-card-1-container">
                <a href="#" class="pxp-categories-card-1">
                    <div class="pxp-categories-card-1-icon-container">
                        <div class="pxp-categories-card-1-icon">
                            <span class="fa fa-terminal"></span>
                        </div>
                    </div>
                    <div class="pxp-categories-card-1-title">Software Engineering</div>
                    <div class="pxp-categories-card-1-subtitle">439 open positions</div>
                </a>
            </div> {% endcomment %}
        </div>

        <div class="mt-4 mt-md-5 text-center pxp-animate-in pxp-animate-in-top">
            <a href="#" class="btn rounded-pill pxp-section-cta">All Categories<span class="fa fa-angle-right"></span></a>
        </div>
    </div>
</section>

<section class="mt-100 pt-100 pb-100" style="background-color: var(--pxpSecondaryColorLight);">
    <div class="pxp-container">
        <h2 class="pxp-section-h2 text-center">Featured Job Offers</h2>
        <p class="pxp-text-light text-center">Search your career opportunity through 12,800 jobs</p>

        <div class="row mt-4 mt-md-5 pxp-animate-in pxp-animate-in-top" style="justify-content: center">
            {% for i in jobs %}
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-bullhorn"></span></div>
                            <div class="pxp-jobs-card-1-category-label">{{ i.fnarea }}</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">{{ i.title }}</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>{{ i.location }}
                            </a>
                            <div class="pxp-jobs-card-1-type">{{ i.type }}</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">{{ i.date|naturaltime }}</div>
                            <a href="#" class="pxp-jobs-card-1-company">{{ i.name }}</a>
                        </div>
                        {% if i.logo %}
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url({{i.logo.url}});"></a>
                        {% else %}
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-1.png);"></a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
            {% comment %} <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-bullhorn"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Marketing & Communication</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Senior Editor</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>San Francisco, CA
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Artistre Studio</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-1.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-calendar-o"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Project Management</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Software Engineering Team Leader</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>Los Angeles, CA
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Craftgenics</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-2.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-comments-o"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Customer Service</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Techincal Support Engineer</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>Paris, France
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Illuminate Studio</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-3.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-terminal"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Software Engineering</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Javascript Developer</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>London, UK
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Syspresoft</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-4.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-pie-chart"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Business Development</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Technical Writer</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>London, UK
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Gramware</a>
                        </div>
                        <a href="single-company-1.html" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-5.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-address-card-o"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Human Resources</div>
                        </a>
                        <a href="single-job-1.html" class="pxp-jobs-card-1-title">Human Resources Coordinator</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>San Francisco, CA
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Bitbytech</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-6.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-terminal"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Software Engineering</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Fullstack Web Developer</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>New York, NY
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">CoderBotics</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-7.png);"></a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-jobs-card-1-container">
                <div class="pxp-jobs-card-1 pxp-has-shadow">
                    <div class="pxp-jobs-card-1-top">
                        <a href="#" class="pxp-jobs-card-1-category">
                            <div class="pxp-jobs-card-1-category-icon"><span class="fa fa-bullhorn"></span></div>
                            <div class="pxp-jobs-card-1-category-label">Marketing & Communication</div>
                        </a>
                        <a href="#" class="pxp-jobs-card-1-title">Social Media Expert</a>
                        <div class="pxp-jobs-card-1-details">
                            <a href="#" class="pxp-jobs-card-1-location">
                                <span class="fa fa-globe"></span>San Francisco, CA
                            </a>
                            <div class="pxp-jobs-card-1-type">Full-time</div>
                        </div>
                    </div>
                    <div class="pxp-jobs-card-1-bottom">
                        <div class="pxp-jobs-card-1-bottom-left">
                            <div class="pxp-jobs-card-1-date pxp-text-light">3 days ago by</div>
                            <a href="#" class="pxp-jobs-card-1-company">Artistre Studio</a>
                        </div>
                        <a href="#" class="pxp-jobs-card-1-company-logo" style="background-image: url(/static/images/company-logo-1.png);"></a>
                    </div>
                </div>
            </div> {% endcomment %}
        </div>

        <div class="mt-4 mt-md-5 text-center pxp-animate-in pxp-animate-in-top">
            <a href="#" class="btn rounded-pill pxp-section-cta">All Job Offers<span class="fa fa-angle-right"></span></a>
        </div>
    </div>
</section>

<section class="mt-100">
    <div class="pxp-container">
        <h2 class="pxp-section-h2 text-center">Find Best Companies</h2>
        <p class="pxp-text-light text-center">Work for the best companies in the world</p>

        <div class="row mt-4 mt-md-5 pxp-animate-in pxp-animate-in-top" style="justify-content: center">
            {% for i in coms %}
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-companies-card-1-container">
                <div class="pxp-companies-card-1 pxp-has-border">
                    <div class="pxp-companies-card-1-top">
                        {% if i.logo %}
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url({{ i.logo.url }});"></a>
                        {% else %}
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url(/static/images/company-logo-1.png);"></a>
                        {% endif %}
                        <a href="#" class="pxp-companies-card-1-company-name">{{ i.name }}</a>
                        {% if i.info %}
                        <div class="pxp-companies-card-1-company-description pxp-text-light">{{ i.info }}</div>
                        {% else %}
                        <div class="pxp-companies-card-1-company-description pxp-text-light">Not specified</div>
                        {% endif %}
                    </div>
                    <div class="pxp-companies-card-1-bottom">
                        <a href="#" class="pxp-companies-card-1-company-jobs">{{ i.count }} jobs</a>
                    </div>
                </div>
            </div>
            {% endfor %}
            {% comment %} <div class="col-md-6 col-xl-4 col-xxl-3 pxp-companies-card-1-container">
                <div class="pxp-companies-card-1 pxp-has-border">
                    <div class="pxp-companies-card-1-top">
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url(/static/images/company-logo-1.png);"></a>
                        <a href="#" class="pxp-companies-card-1-company-name">Artistre Studio</a>
                        <div class="pxp-companies-card-1-company-description pxp-text-light">Is an American multinational computer software company. Incorporated in Delaware and headquartered in San Jose, California, it has historically specialized in software for the creation.</div>
                    </div>
                    <div class="pxp-companies-card-1-bottom">
                        <a href="#" class="pxp-companies-card-1-company-jobs">10 jobs</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-companies-card-1-container">
                <div class="pxp-companies-card-1 pxp-has-border">
                    <div class="pxp-companies-card-1-top">
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url(/static/images/company-logo-7.png);"></a>
                        <a href="#" class="pxp-companies-card-1-company-name">CoderBotics</a>
                        <div class="pxp-companies-card-1-company-description pxp-text-light">Is an American multinational computer software company. Incorporated in Delaware and headquartered in San Jose, California.</div>
                    </div>
                    <div class="pxp-companies-card-1-bottom">
                        <a href="#" class="pxp-companies-card-1-company-jobs">14 jobs</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-companies-card-1-container">
                <div class="pxp-companies-card-1 pxp-has-border">
                    <div class="pxp-companies-card-1-top">
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url(/static/images/company-logo-4.png);"></a>
                        <a href="#" class="pxp-companies-card-1-company-name">Syspresoft</a>
                        <div class="pxp-companies-card-1-company-description pxp-text-light">Is an American multinational computer software company. Incorporated in Delaware and headquartered in San Jose, California, it has historically specialized in software for the creation.</div>
                    </div>
                    <div class="pxp-companies-card-1-bottom">
                        <a href="#" class="pxp-companies-card-1-company-jobs">10 jobs</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3 pxp-companies-card-1-container">
                <div class="pxp-companies-card-1 pxp-has-border">
                    <div class="pxp-companies-card-1-top">
                        <a href="#" class="pxp-companies-card-1-company-logo" style="background-image: url(/static/images/company-logo-3.png);"></a>
                        <a href="#" class="pxp-companies-card-1-company-name">Illuminate Studio</a>
                        <div class="pxp-companies-card-1-company-description pxp-text-light">Is an American multinational computer software company. Incorporated in Delaware and headquartered in San Jose, California.</div>
                    </div>
                    <div class="pxp-companies-card-1-bottom">
                        <a href="#" class="pxp-companies-card-1-company-jobs">14 jobs</a>
                    </div>
                </div>
            </div> {% endcomment %}
        </div>

        <div class="mt-4 mt-md-5 text-center pxp-animate-in pxp-animate-in-top">
            <a href="#" class="btn rounded-pill pxp-section-cta">All Companies<span class="fa fa-angle-right"></span></a>
        </div>
    </div>
</section>

{% comment %} <section class="mt-100">
    <div class="pxp-container">
        <h2 class="pxp-section-h2 text-center">Featured Cities</h2>
        <p class="pxp-text-light text-center">Start your next carrer in a beautiful city</p>

        <div class="row mt-4 mt-md-5 pxp-animate-in pxp-animate-in-top">
            <div class="col-md-6 col-xl-4 col-xxl-3">
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/london.jpg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">London, UK</div>
                        <div class="pxp-cities-card-2-jobs">452 open positions</div>
                    </div>
                </a>
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/san.jpeg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">San Francisco, CA</div>
                        <div class="pxp-cities-card-2-jobs">144 open positions</div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3">
                <a href="#" class="pxp-cities-card-2 pxp-is-featured">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/paris.jpg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">Paris, France</div>
                        <div class="pxp-cities-card-2-jobs">452 open positions</div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3">
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/san.jpeg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">San Francisco, CA</div>
                        <div class="pxp-cities-card-2-jobs">244 open positions</div>
                    </div>
                </a>
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/los.jpg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">Los Angeles, CA</div>
                        <div class="pxp-cities-card-2-jobs">144 open positions</div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-xl-4 col-xxl-3">
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/london.jpg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">London, UK</div>
                        <div class="pxp-cities-card-2-jobs">452 open positions</div>
                    </div>
                </a>
                <a href="#" class="pxp-cities-card-2">
                    <div class="pxp-cities-card-2-image-container">
                        <div class="pxp-cities-card-2-image pxp-cover" style="background-image: url(/static/images/san.jpeg);"></div>
                    </div>
                    <div class="pxp-cities-card-2-info">
                        <div class="pxp-cities-card-2-name">San Francisco, CA</div>
                        <div class="pxp-cities-card-2-jobs">144 open positions</div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section> {% endcomment %}

<section class="mt-100">
    <div class="pxp-container">
        <h2 class="pxp-section-h2 text-center">Stay Up to Date</h2>
        <p class="pxp-text-light text-center">Subscribe to our newsletter to receive our weekly feed.</p>

        <div class="row mt-4 mt-md-5 justify-content-center">
            <div class="col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                <div class="pxp-subscribe-1-container pxp-animate-in pxp-animate-in-top">
                    <div class="pxp-subscribe-1-image">
                        <img src="{% static 'images/subscribe.png' %}" alt="Stay Up to Date">
                    </div>
                    <div class="pxp-subscribe-1-form">
                        <form>
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Enter your email...">
                                <button class="btn btn-primary" type="button">Subscribe<span class="fa fa-angle-right"></span></button>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% include "footer.html" %}
{% endblock %}

{% block script %}
let suggestions={{ title|safe }};
const searchInput = document.querySelector(".searchInput");
const input = searchInput.querySelector("input");
const resultBox = searchInput.querySelector(".resultBox");
const icon = searchInput.querySelector(".icon");
let linkTag = searchInput.querySelector("a");
let webLink;

// if user press any key and release
input.onkeyup = (e)=>{
    let userData = e.target.value; //user enetered data
    let emptyArray = [];
    if(userData){
        emptyArray = suggestions.filter((data)=>{
            //filtering array value and user characters to lowercase and return only those words which are start with user enetered chars
            return data.toLocaleLowerCase().startsWith(userData.toLocaleLowerCase()); 
        });
        emptyArray = emptyArray.map((data)=>{
            // passing return data inside li tag
            return data = '<li>'+ data +'</li>';
        });
        searchInput.classList.add("active"); //show autocomplete box
        showSuggestions(emptyArray);
        let allList = resultBox.querySelectorAll("li");
        for (let i = 0; i < allList.length; i++) {
            //adding onclick attribute in all li tag
            allList[i].setAttribute("onclick", "select(this)");
        }
    }else{
        searchInput.classList.remove("active"); //hide autocomplete box
    }
}

function select(ele)
{
    input.value=ele.innerHTML;
    let userData = ele.innerHTML;
    let emptyArray = [];
    if(userData){
        emptyArray = suggestions.filter((data)=>{
            //filtering array value and user characters to lowercase and return only those words which are start with user enetered chars
            return data.toLocaleLowerCase().startsWith(userData.toLocaleLowerCase()); 
        });
        emptyArray = emptyArray.map((data)=>{
            // passing return data inside li tag
            return data = '<li>'+ data +'</li>';
        });
        searchInput.classList.add("active"); //show autocomplete box
        showSuggestions(emptyArray);
        let allList = resultBox.querySelectorAll("li");
        for (let i = 0; i < allList.length; i++) {
            //adding onclick attribute in all li tag
            allList[i].setAttribute("onclick", "select(this)");
        }
    }else{
        searchInput.classList.remove("active"); //hide autocomplete box
    }
}

function showSuggestions(list){
    let listData;
    if(!list.length){
        userValue = input.value;
        listData = '<li>'+ userValue +'</li>';
    }else{
        listData = list.join('');
    }
    resultBox.innerHTML = listData;
}
{% endblock script %}

